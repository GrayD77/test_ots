{"version":3,"sources":["task-1.js","task-2.js","task-3.js","task-4.js"],"names":["SmartInput","el","DOMElement","initialValue","value","bindEvents","smthWrong","allRight","classList","add","remove","addEventListener","checkValue","smartInputsDOMElements","document","querySelectorAll","smartInputs","forEach","push","parseSearchString","args","window","location","search","slice","split","argsParsed","reduce","summ","current","index","array","arg","key","decodeURIComponent","length","formToSearchString","form","filter","resArray","nodeName","i","l","elements","name","type","indexOf","querySelector","selector","checkedPropName","inputGroup","values","currentElement","encodeURIComponent","map","join","fillTheForm","setValue","Object","prototype","toString","call","currentElementValue","checked","console","log","href","e","stopPropagation","httpGet","url","Promise","resolve","reject","req","XMLHttpRequest","open","onload","status","response","Error","statusText","onerror","send","tryToSayHello","results","fillResponseField","text","onError","error","html","responseField","innerHTML","requestButtons","target","contains","disabled","getAttribute","then","JSON","parse","formMessage","receiver","contentWindow","iframeCallback","preventDefault","msg","action","callback","encodeURI","postMessage","stringify","reset","receiveMessage","data"],"mappings":"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","file":"all.js","sourcesContent":[";(function(){\n\n\t// класс, на случай если Input не один,\n\t// или придется в будущем делать с ним что-нибудь еще\n\tclass SmartInput {\n\n\t\tconstructor(el) {\n\t\t\tthis.DOMElement   = el;\n\t\t\tthis.initialValue = el.value;\n\n\t\t\tthis.bindEvents();\n\t\t}\n\n\n\t\tcheckValue() {\n\t\t\t// проверяет значения\n\t\t\t// сам ничего не делает, только запускает соотв. методы\n\t\t\tlet value = this.DOMElement.value;\n\n\t\t\tif (value !== this.initialValue) {\n\t\t\t\tthis.smthWrong();\n\t\t\t} else {\n\t\t\t\tthis.allRight();\n\t\t\t}\n\t\t}\n\n\n\t\tsmthWrong() {\n\t\t\tthis.DOMElement.classList.add('red');\n\t\t}\n\n\n\t\tallRight() {\n\t\t\tthis.DOMElement.classList.remove('red');\n\t\t}\n\n\n\t\tbindEvents() {\n\t\t\tthis.DOMElement.addEventListener('input', () => {this.checkValue()}, 'false');\n\t\t}\n\n\t};\n\n\n\n\n\tlet smartInputsDOMElements = document.querySelectorAll('.smart-input');\n\tlet smartInputs = [];\n\n\tsmartInputsDOMElements.forEach((el) => {\n\t\tsmartInputs.push( new SmartInput(el) );\n\t});\n\n\n}());",";(function(){\n\n\t// берет window.location.search и отдает объект с переданными параметрами\n\tfunction parseSearchString() {\n\t\tlet args = window.location.search.slice(1).split('&');\n\t\tlet argsParsed = args.reduce( (summ, current, index, array) => {\n\n\t\t\tlet arg   = current.split('=');\n\t\t\tlet key   = decodeURIComponent(arg[0]);\n\t\t\tlet value = decodeURIComponent(arg[1]).split(',');\n\n\t\t\tif (value.length === 1) value = value[0];\n\t\t\tsumm[key] = value;\n\n\t\t\treturn summ;\n\t\t}, {});\n\n\t\treturn argsParsed;\n\t}\n\n\n\t// \n\tfunction formToSearchString(form, filter) {\n\t\tlet resArray = []; // response Array\n\n\t\tif (!form || form.nodeName !== 'FORM') return;\n\n\t\tfor (let i = 0, l = form.elements.length; i < l; i++) {\n\t\t\tlet name = form.elements[i].name;\n\t\t\tlet type;\n\n\t\t\tif (name === '' || filter.indexOf(name) !== -1) continue;\n\n\t\t\t\ttype = form.querySelector(`[name=\"${name}\"]`).type;\n\t\t\t\tfilter.push(name);\n\n\t\t\t\tswitch (type) {\n\n\t\t\t\t\tcase 'radio':\n\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\tcase 'select-multiple': {\n\t\t\t\t\t\tlet selector;\n\t\t\t\t\t\tlet checkedPropName;\n\t\t\t\t\t\tlet inputGroup;\n\t\t\t\t\t\tlet values = [];\n\n\t\t\t\t\t\tif (type === 'select-multiple') {\n\t\t\t\t\t\t\tselector = `[name=\"${name}\"] option`;\n\t\t\t\t\t\t\tcheckedPropName = 'selected';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselector = `[name=\"${name}\"]`;\n\t\t\t\t\t\t\tcheckedPropName = 'checked';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tinputGroup = form.querySelectorAll(selector);\n\n\t\t\t\t\t\tfor (let i = 0, l = inputGroup.length; i < l; i++) {\n\t\t\t\t\t\t\tlet currentElement = inputGroup[i];\n\n\t\t\t\t\t\t\tif (currentElement[checkedPropName]) {\n\t\t\t\t\t\t\t\tvalues.push(currentElement.value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tname = encodeURIComponent(name);\n\t\t\t\t\t\tvalues = values.map(encodeURIComponent);\n\n\t\t\t\t\t\tresArray.push(`${name}=${values.join(',')}`);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\tresArray.push(`${name}=${form.elements[i].value}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\n\t\treturn resArray.join('&');\n\n\t}\n\n\t// заполняет форму полями объекта 'values'\n\tfunction fillTheForm(form, values) {\n\t\t// form - form DOM element\n\t\t// values -  { key: value, ... }\n\t\tif (!form || form.nodeName !== 'FORM') return;\n\n\t\tfor (let key in values) {\n\t\t\tsetValue(form, key, values[key])\n\t\t}\n\n\t}\n\n\n\t// заполняет поле 'key' формы значением 'value'\n\tfunction setValue(form, key, value){\n\t\tlet type = form.querySelector(`[name=\"${key}\"]`).type;\n\n\t\tswitch (type) {\n\n\t\t\t// checkbox and multiple select\n\t\t\tcase 'checkbox':\n\t\t\tcase 'select-multiple': {\n\t\t\t\tlet selector;\n\t\t\t\tlet checkedPropName;\n\t\t\t\tlet inputGroup;\n\n\t\t\t\tif (type === 'checkbox') {\n\t\t\t\t\tselector = `[name=\"${key}\"]`;\n\t\t\t\t\tcheckedPropName = 'checked';\n\t\t\t\t} else {\n\t\t\t\t\tselector = `[name=\"${key}\"] option`;\n\t\t\t\t\tcheckedPropName = 'selected';\n\t\t\t\t}\n\n\t\t\t\tinputGroup = form.querySelectorAll(selector);\n\n\t\t\t\tif (Object.prototype.toString.call(value) === '[object String]') {\n\t\t\t\t\tvalue = [value];\n\t\t\t\t\t// сейчас value - всегда массив\n\t\t\t\t}\n\n\t\t\t\tfor (let i = 0, l = inputGroup.length; i < l; i++) {\n\t\t\t\t\tlet currentElement = inputGroup[i];\n\t\t\t\t\tlet currentElementValue = currentElement.value;\n\t\t\t\t\tlet checked = value.indexOf(currentElementValue) !== -1;\n\n\t\t\t\t\tcurrentElement[checkedPropName] = checked;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// text, password, email, textarea, radio\n\t\t\tdefault:\n\t\t\t\tform.elements[key].value = value;\n\t\t}\n\t}\n\n\n\n\n\tlet args = parseSearchString();\n\tlet form = document.querySelector('.query-params');\n\n\tif (!form) return;\n\n\tfillTheForm(form, args);\n\n\n\t// events\n\tform.addEventListener('change', function() {\n\t\tconsole.log(`${window.location.href.split('?')[0]}?${formToSearchString(this, ['on-sale'])}`);\n\t}, false);\n\n\tform.querySelector('[name=\"on-sale\"]').addEventListener('change', function(e) {\n\t\t\te.stopPropagation();\n\t\t\treturn false;\n\t}, false);\n\n}());",";(function(){\n\n\t// httpGet promise\n\tfunction httpGet(url) {\n\t\treturn new Promise(function(resolve, reject){\n\n\t\t\tlet req = new XMLHttpRequest();\n\t\t\treq.open('GET', url);\n\n\t\t\treq.onload = function(){\n\t\t\t\tif (req.status === 200){\n\t\t\t\t\tresolve(req.response);\n\t\t\t\t} else {\n\t\t\t\t\treject(Error(req.statusText));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treq.onerror = function() {\n\t\t\t\treject(Error('Network Error'));\n\t\t\t};\n\n\t\t\treq.send();\n\t\t});\n\t}\n\n\n\n\t// какая-то функция, которую надо выполнить, когда пришли оба ответа\n\tfunction tryToSayHello(){\n\t\tif (!results[0] || !results[1]) return;\n\t\tfillResponseField(`${results[0].text} ${results[1].text} !`);\n\t\tconsole.log('Оба ответа получены')\n\t}\n\n\t// какая-то функция, которую надо выполнить, когда один из запросов выполнился с ошибкой\n\tfunction onError(error){\n\t\tfillResponseField(`<span class=\"error\">${error}</span>`);\n\t}\n\n\tfunction fillResponseField(html) {\n\t\tresponseField.innerHTML = html;\n\t}\n\n\n\n\n\tlet results = [];\n\tlet requestButtons = document.querySelectorAll('.request');\n\tlet responseField = document.querySelector('.response');\n\n\tif (!requestButtons) return;\n\n\twindow.addEventListener('click', (e) => {\n\t\tlet target = e.target;\n\n\n\t\tif (target.classList.contains('request')) {\n\t\t\ttarget.disabled = true;\n\t\t\tlet url = target.getAttribute('data-url');\n\t\t\tlet index = target.getAttribute('data-index');\n\n\t\t\thttpGet(url).then((response) => {\n\t\t\t\tresults[index] = JSON.parse(response);\n\t\t\t\ttryToSayHello();\n\n\t\t\t}, (error) => {\n\t\t\t\tonError(error);\n\t\t\t\ttarget.disabled = false;\n\t\t\t});\n\n\t\t}\n\n\n\t});\n\n\n}())",";(function(){\n\n\tlet formMessage = document.querySelectorAll('.send-message');\n\tlet receiver = document.querySelector('.domain-two').contentWindow;\n\tlet iframeCallback = function() {\n\t\treturn function(url) {\n\n\t\t\tlet req = new XMLHttpRequest();\n\t\t\treq.open('GET', url);\n\n\t\t\treq.onload = function(){\n\t\t\t\tif (req.status === 200){\n\t\t\t\t\tconsole.log(234)\n\t\t\t\t\tconsole.log(JSON.parse(req.response));\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(Error(req.statusText));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treq.onerror = function() {\n\t\t\t\tconsole.log(Error('Network Error'));\n\t\t\t};\n\n\t\t\treq.send();\n\t\t}\n\t}\n\n\n\tformMessage.forEach((form) => {\n\n\t\tform.addEventListener('submit', function(e){\n\t\t\te.preventDefault();\n\t\t\t// let msg = `${this.elements['name'].value} : ${this.elements['value'].value}`;\n\t\t\tlet name = this.elements['name'] ? this.elements['name'].value : null;\n\t\t\tlet value = this.elements['value'] ? this.elements['value'].value : null;\n\n\t\t\tlet msg = {\n\t\t\t\tname : name,\n\t\t\t\tvalue : value,\n\t\t\t\taction : this.getAttribute('data-action'),\n\t\t\t\tcallback: encodeURI(iframeCallback.toString())\n\t\t\t};\n\n\t\t\treceiver.postMessage(JSON.stringify(msg), 'http://localhost:8000');\n\n\t\t\tthis.reset();\n\n\t\t}, false);\n\t});\n\n\tfunction receiveMessage(e){\n\t\tconsole.log(e.data || 'Нет такой записи!');\n\t}\n\n\n\twindow.addEventListener('message', receiveMessage);\n\n\n}());"]}